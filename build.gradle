plugins {
    id 'java'
}

group 'com.example.tests'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

compileTestJava {
    options.encoding = "UTF-8"
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

repositories {
    mavenCentral()
    jcenter()
    maven { url 'https://jitpack.io' }
}

dependencies {
    compile 'com.codeborne:selenide:5.8.0'
    testCompile group: 'org.testng', name: 'testng', version: '6.14.3'
    compile group: 'com.opencsv', name: 'opencsv', version: '4.6'
    implementation 'io.appium:java-client:7.3.0'
    implementation 'com.auth0:java-jwt:3.10.0'
}


tasks.withType(Test).all { testTask ->
    testTask.systemProperties = [
            'file.encoding': 'UTF-8',
    ]
    testTask.useTestNG() {
        options {
            systemProperties(System.getProperties())
            include '**/tests/**'
        }
    }
    testTask.testLogging.showStandardStreams = true
    testTask.outputs.upToDateWhen { false }
}
